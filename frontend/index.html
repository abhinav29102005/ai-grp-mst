<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Resource Allocation - Clustering Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h1>Cloud Resource Allocation</h1>
            <p class="sidebar-subtitle">KMeans Clustering Dashboard</p>
        </div>
        <div class="sidebar-status" id="status-indicator">
            <span class="status-dot"></span>
            <span class="status-text">Connecting...</span>
        </div>
        <nav class="sidebar-nav">
            <button class="nav-btn active" data-page="overview">Data Overview</button>
            <button class="nav-btn" data-page="outliers">Outlier Analysis</button>
            <button class="nav-btn" data-page="correlation">Correlation Matrix</button>
            <button class="nav-btn" data-page="elbow">Elbow Method</button>
            <button class="nav-btn" data-page="clustering">Cluster Results</button>
            <button class="nav-btn" data-page="exploration">Cluster Exploration</button>
            <button class="nav-btn" data-page="tsne">t-SNE Visualization</button>
        </nav>
        <div class="sidebar-footer">
            <p>Group 23 - AIML Project</p>
        </div>
    </aside>

    <main class="content" id="content">
        <!-- Overview Page -->
        <section class="page active" id="page-overview">
            <h2>Data Overview</h2>
            <p class="page-desc">Summary statistics of the preprocessed cloud resource allocation dataset.</p>
            <div class="metrics-row" id="overview-metrics"></div>
            <div class="card">
                <h3>Feature Statistics</h3>
                <div class="table-wrap" id="stats-table-wrap"></div>
            </div>
            <div class="card">
                <h3>Feature Distributions</h3>
                <div class="chart-grid" id="distribution-charts"></div>
            </div>
        </section>

        <!-- Outliers Page -->
        <section class="page" id="page-outliers">
            <h2>Outlier Analysis</h2>
            <p class="page-desc">Outlier detection using the Interquartile Range (IQR) method.</p>
            <div class="metrics-row" id="outlier-metrics"></div>
            <div class="card">
                <h3>Outlier Count by Feature</h3>
                <div id="outlier-chart"></div>
            </div>
            <div class="card">
                <h3>Detailed Counts</h3>
                <div class="table-wrap" id="outlier-table-wrap"></div>
            </div>
        </section>

        <!-- Correlation Page -->
        <section class="page" id="page-correlation">
            <h2>Correlation Analysis</h2>
            <p class="page-desc">Pearson correlation matrix of numeric features.</p>
            <div class="card">
                <div id="correlation-chart"></div>
            </div>
        </section>

        <!-- Elbow Page -->
        <section class="page" id="page-elbow">
            <h2>Elbow Method</h2>
            <p class="page-desc">Inertia vs number of clusters to determine optimal K.</p>
            <div class="card">
                <div id="elbow-chart"></div>
            </div>
        </section>

        <!-- Clustering Page -->
        <section class="page" id="page-clustering">
            <h2>Cluster Results</h2>
            <p class="page-desc">KMeans clustering distribution and summary statistics.</p>
            <div class="metrics-row" id="cluster-metrics"></div>
            <div class="two-col">
                <div class="card">
                    <h3>Cluster Distribution</h3>
                    <div id="cluster-pie-chart"></div>
                </div>
                <div class="card">
                    <h3>Cluster Sizes</h3>
                    <div id="cluster-bar-chart"></div>
                </div>
            </div>
            <div class="card">
                <h3>Cluster Summary (Mean Values)</h3>
                <div class="table-wrap" id="cluster-summary-table-wrap"></div>
            </div>
        </section>

        <!-- Exploration Page -->
        <section class="page" id="page-exploration">
            <h2>Cluster Exploration</h2>
            <p class="page-desc">Detailed cluster profiles with radar chart and feature comparison.</p>
            <div class="card">
                <h3>Cluster Feature Profiles</h3>
                <div id="radar-chart"></div>
            </div>
            <div class="card">
                <h3>Feature Comparison Across Clusters</h3>
                <div id="comparison-chart"></div>
            </div>
        </section>

        <!-- t-SNE Page -->
        <section class="page" id="page-tsne">
            <h2>t-SNE Visualization</h2>
            <p class="page-desc">t-distributed Stochastic Neighbor Embedding reduces high-dimensional data to 2D. Each point represents a record, colored by cluster assignment.</p>
            <div class="card">
                <div id="tsne-chart"></div>
            </div>
            <div class="card interpretation">
                <h3>Interpretation</h3>
                <p>The t-SNE plot reveals how the clustering algorithm separates data points in reduced dimensional space. Well-separated clusters indicate that KMeans effectively distinguishes different resource usage patterns. Overlapping regions suggest shared characteristics between clusters.</p>
            </div>
        </section>

        <!-- Loading overlay -->
        <div class="loading-overlay" id="loading">
            <div class="spinner"></div>
            <p>Loading data from Supabase...</p>
        </div>
    </main>

    <script src="js/app.js"></script>
</body>
</html>
